---
{"dg-publish":true,"permalink":"/czc知识库/笔记/游戏/泰拉瑞亚 NPC幸福度/","dgPassFrontmatter":true,"created":"2024-06-28T14:05:56.588+08:00","updated":"2024-12-08T11:37:52.614+08:00"}
---


# [NPC幸福度/快乐度及晶塔系统详解+攻略+答疑【新terraria吧】\_百度贴吧](https://tieba.baidu.com/p/7009599592)

> 大家好，这里是Ppp，这里准备写一个关于1.4版本新增加的系统——NPC幸福度系统攻略类连带答疑的帖子，旨在让大家看过这篇帖子后都能玩转NPC幸福度系统，根据自身情况能够作出最佳安排，以拿到最大折扣为开荒助力，同时享受晶塔的全图方便传送功能，也不用忍受NPC疯狂涨价带来的麻烦。  
> 我在1.4版本刚出来的时候也做过一个讲解NPC幸福度的帖子，现在也算是对其进行改进和完善，争取讲遍有关的机制。本帖会尽量使用通俗易懂的讲解方法和一些小技巧来帮助大家理解NPC幸福度的体制。如果还有问题，可在讲解完成后提出问题，我会尽力给予答题。  
> 如果你之前已经看过我的上个讲解帖子，或者从其他方式学过了NPC幸福度的有关机制，这篇帖子也仍然很有可能对你有帮助，因为这次的讲解会很全面而且通俗易懂，同时也讲解了一些其它攻略很少有提到的，对于能够活学活用、玩转NPC幸福度系统有帮助的机制。

至于对幸福度系统中要用到的词汇，我个人不太喜欢中文wiki里的翻译，所以使用了个人的翻译。这一层楼将列举出我使用的词汇与英文原词语的对照，以免产生误会。  
格式：我使用的词语-英文原词语-中文wiki词语  
幸福度-happiness-快乐度  
晶塔（我在以前称作传送塔）-pylon-晶塔  
喜爱-love-喜爱  
喜欢-like-喜欢  
不喜欢（我在以前称作讨厌）-dislike-不喜  
憎恶-hate-讨厌  
在楼中交谈时，我更倾向于使用我的翻译词汇。如果使用的是wiki翻译词汇，我会特殊表明。在提问时，如果使用wiki词汇，最好标明以免误会。

本帖大纲（你将会看到的）：  
一.概念  
1.原理  
2.新定义概念  
二.幸福度的影响  
三.影响因素  
1.总体讲解  
2.邻居及拥挤度判定  
3.地形加成判定（重叠地形）  
四.晶塔  
1.如何获得  
2.使用方法  
3.注意事项、常见问题  
五.推荐的安排方法  
六.小贴士  
七.答疑环节

**一.概念**  
**1.原理（游戏中幸福度的计算方法）：**  
当NPC开心或不开心时，他们会改变售卖物品的价格及其他一些交易相关的价格。每个影响因素会让价格乘上1个数字，再取整到5%（其实是先乘上20，再四舍五入到整数，再除以20）.  
例如，商人憎恶他的邻居渔夫，这使他的价格乘上110%，即1×110%=110%，这就是他售卖物品的价格倍率，这时1个小猪存钱罐卖1金10银。假如商人又处在他喜欢的环境——森林中，这使他的价格倍率再乘上95%，即1×110%×95%=104.5%，四舍五入后为105%，这时1个小猪存钱罐卖1金5银。  
**2.新定义概念——幸福度：**  
你会发现上面的公式很难理解也很难计算。由于最后取整到5%，乘法的计算结果其实与加法基本无异。于是我们引入新概念——幸福度，把NPC降价5%的现象视为幸福度+1，反之亦然，加价5%视为幸福度-1.

**二.幸福度的影响**  
**价格倍率：NPC从玩家处收取钱币（最典型的是购买）：**  
幸福度每增加1点，商人NPC降价5%，哥布林的重铸等收钱的交易也会降价5%，反之亦然。  
**给予倍率：玩家从NPC处获得钱币（售卖，税款，任务奖励等）：**  
是上面倍率的倒数，例如价格倍率是75%，则给予倍率为=1/75%≈133.33%。如果价格倍率是150%，则给予倍率为1/150%≈66.66%（这个总是会在小数点后继续计算直到不能再计算为止，而且不会向上取整，例如1金的物品在此时卖出66银66铜，所以不取66.67%）

**三.影响因素**  
**1.总体讲解：**  
我们把NPC之间相隔25格以内称作邻居，120格以内称作同镇。（原概念略）  
喜爱邻居/环境幸福度+2  
喜欢邻居/环境幸福度+1  
不喜欢邻居/环境幸福度-1  
憎恶邻居/环境幸福度-2  
**邻居不多于1人，且同镇（不算邻居）不多于3人时“不拥挤”+2**  
邻居在3人以上，从第3人开始，每人-0.8  
位于邪恶地形或地牢、无家可归、离家太远都会使幸福度降到最低（-10）  
**2.邻居及拥挤度判定：**  
以NPC房子内悬挂旗帜的位置计算，将2个NPC悬挂旗帜的方块连线，算出连线的距离就是2个NPC之间的距离。  
在计算拥挤度时，宠物NPC（如城镇猫）不计算在内。  
**3.地形加成判定：**  
NPC同时只能受到1种地形对幸福度的影响，而且是根据玩家所在的地形判定的。当玩家在重叠地形中时，按照以下优先级判定环境影响（序号小的比大的优先判定）：  
1.地牢，腐化，血腥（内部写在前面的更优先，但它们都会使NPC幸福度降到最低，所以合并）  
2.发光蘑菇地（但一般不会与其它地形重叠）  
4.神圣（重叠地形中的大哥大）  
5.丛林，雪地，海洋，沙漠（前比后优先，因为互相不易重叠而合并）  
7.地下，森林（前比后优先，无法重叠所以合并）[地下，洞穴，地狱都算地下加成，但只要有任何地形与其重叠都不会算地下的哦]  
**简单记法：神圣强，地下弱。（记住这两个就能避免大部分误区）**  
**地形加成判定与晶塔系统对环境的判定不同，一定要区分开来。**

**四.晶塔**  
**1.如何获得：**  
任意商人类的NPC（卖东西的），在幸福度达到3以上之后售卖附近环境的晶塔。（注意**是附近环境的，与影响幸福度的环境不同**，后者只能算1个，而前者可以卖很多种晶塔，这**不代表**NPC受到了很多环境对幸福度的影响）  
万能晶塔在收集100%图鉴后从动物学家处购买。  
2.使用方法：  
每一种晶塔在一个世界中**只能放置1个**，而且附近必须有放在**对应的环境**，周围有**2个以上的NPC**（包括城镇宠物）才能使用。**事件和BOSS战不可用**。  
万能晶塔除了在邪恶地形中时都可用，没有**任何**其他苛刻的要求。  
要**站在一个可用的晶塔旁边**，才能传送到另一个**可用的**晶塔，不能随意传送。  
3.注意事项、常见问题：  
Q：我的NPC为什么不卖晶塔？  
A：幸福度不够，请对照影响因素查看是否安排有问题。又是2个城镇离得太近算作1个，是导致NPC没有得到不拥挤加成的原因。  
Q：我的晶塔为什么不能用啊？  
A：晶塔不能用时会在右下角用黄色字体给出一条提示，阅读之后你就会明白原因。  
Q：我的晶塔怎么放不下啊？  
A：大部分情况是你已经放了1个晶塔，不能再放同种类第二个。如果没有，检查周围空间是否足够。

**五.推荐的安排方法**  
以下是我作出的安排方法，我敢说是最好的。当然也要活学活用，后面的小贴士会帮忙解决一些问题。  
主要采用2+1模型，即2人作邻居并在25格外设立单间住第三人。  
![](http://tiebapic.baidu.com/forum/w%3D580/sign=46b18478eafaaf5184e381b7bc5594ed/62ee832e07082838979af04aaf99a9014d08f16f.jpg?tbpicau=2024-07-09-05_d6ae145d25772f6a74637e5ab4231ddc)  
这种安排会让**所有商人NPC售卖晶塔**，其中电工妹，蒸汽朋克，海盗，爆破专家，派对女孩，护士，蘑菇人拿到可能的最高幸福度（5点），除了向导幸福度2点外所**有人幸福度至少有3点**。  
（这是以前做的图片，因为找不到原素材只能放这一张了）